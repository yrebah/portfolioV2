const getDefaultLanguage=()=>{let e=navigator.language;switch(e.length>2&&(e=e.split("-")[0]),e){case"de":return"de";case"en":return"en";case"fr":return"fr";case"es":return"es";default:return"en"}},setLanguageLocalStorage=()=>{null==localStorage.getItem("lang")&&localStorage.setItem("lang",getDefaultLanguage())},setFirstConnectionLocalStorage=()=>{null==localStorage.getItem("firstCo")?localStorage.setItem("firstCo",1):localStorage.setItem("firstCo",-1)},setAcceptCookiesLocalStorage=()=>{null==localStorage.getItem("acceptCookies")&&localStorage.setItem("acceptCookies",-1)},getAvailablesLanguages=()=>{$.post("./request.php",{request:"getLanguages"},function(e){let t=JSON.parse(e);appendSelectLanguage(t),null==localStorage.getItem("lang")&&localStorage.setItem("lang",getDefaultLanguage())})},getAvailablesThemes=()=>{$.post("./request.php",{request:"getThemes"},function(e){let t=JSON.parse(e);setThemesChoicesIntoList(t),setThemeChoiceFunctions(),getThemeChoice()})};async function getData(e){return(await fetch(e)).json()}async function getTranslations(){return null!=localStorage.getItem("lang")?await getData(`./languages/${localStorage.getItem("lang")}.json`):await getData(`./languages/${getDefaultLanguage()}.json`)}const mailIsValid=e=>{return/\S+@\S+\.\S+/.test(e)},setUnvalidInputMail=e=>{e.value&&!mailIsValid(e)?e.classList.add("input-error"):e.classList.remove("input-error")},setInputsError=e=>{e.forEach(e=>{e.value?e.classList.remove("input-error"):e.classList.add("input-error")})},clearInputsValue=e=>{e.forEach(e=>{e.value=""})},isElementXPercentInViewport=(e,t)=>{let o=document.querySelector(e).getBoundingClientRect(),a=window.innerHeight||document.documentElement.clientHeight;return!(Math.floor(100-(o.top>=0?0:o.top)/+-o.height*100)<t||Math.floor(100-(o.bottom-a)/o.height*100)<t)},setActiveClassName=(e,t,o)=>{document.querySelectorAll(t).forEach(e=>{e.classList.remove(o)}),null!=document.querySelector(e)&&document.querySelector(e).classList.add(o)},scrollToTop=()=>{document.body.scrollTop=document.documentElement.scrollTop=0},enableBodyOverflow=()=>{document.body.style.overflowY="auto"},disableBodyOverflow=()=>{document.body.style.overflowY="hidden"},showModal=e=>{document.querySelector(e).classList.add("active"),document.body.style.overflowY="hidden"},hideModal=e=>{document.querySelector(e).classList.remove("active"),document.body.style.overflowY="auto"},SelectLanguage=e=>{const t=document.createElement("select");return t.classList.add("select-language"),e.forEach(e=>{const o=document.createElement("option");o.value=e.initial,o.setAttribute("data-tr",`${e.lang}`),t.append(o)}),t.addEventListener("change",e=>{localStorage.setItem("lang",e.target.value),setHtmlTranslations()}),t};let counter=0;const Notif=(e,t)=>{counter++;const o=document.createElement("i");o.classList.add("fas","fa-check");const a=document.createElement("i");a.classList.add("fas","fa-times");const n=document.createElement("div");n.id=`notif-${counter}`,n.classList.add("notification"),n.addEventListener("click",()=>{document.querySelector(".notification").remove()});const l=document.createElement("div");l.classList.add("text"),l.setAttribute("data-tr",t),"success"===e.toLowerCase()&&(n.append(o,l),n.style.backgroundColor="var(--primary-success)"),"error"===e.toLowerCase()&&(n.append(a,l),n.style.backgroundColor="var(--primary-error)"),document.body.append(n),setHtmlTranslations(),setTimeout(()=>{null!=document.querySelector(`#${n.id}`)&&document.querySelector(`#${n.id}`).remove()},3500)},NotifConfirmation=(e,t)=>{const o=document.createElement("div");o.id="notif-confirmation",o.classList.add("notification","confirmation");const a=document.createElement("div");a.classList.add("text"),a.setAttribute("data-tr",e);const n=document.createElement("div");n.classList.add("container-btn");const l=document.createElement("button");l.classList.add("btn-validate"),l.setAttribute("data-tr","confirm"),l.onclick=(e=>{document.body.style.pointerEvents="all",e.stopPropagation(),t(),document.querySelector(`#${o.id}`).remove()});const s=document.createElement("button");s.classList.add("btn-cancel"),s.setAttribute("data-tr","cancel"),s.onclick=(()=>{document.body.style.pointerEvents="all",document.querySelector(`#${o.id}`).remove()}),null==document.querySelector("#notif-confirmation")&&(document.body.style.pointerEvents="none",n.append(l,s),o.append(a,n),document.body.append(o),setHtmlTranslations())};